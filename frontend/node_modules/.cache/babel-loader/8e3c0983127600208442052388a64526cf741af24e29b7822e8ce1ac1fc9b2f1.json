{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\S07P31C209\\\\frontend\\\\src\\\\screens\\\\MessageDetail.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router';\nimport { useRecoilState } from 'recoil';\nimport { loadingState } from '@apis/Recoil';\nimport { ReactComponent as EllipsisVertical } from '@images/ellipsisVertical.svg';\nimport MoreMenu from '@common/MoreMenu';\nimport Content from '@messageDetail/Content';\nimport Like from '@messageDetail/Like';\nimport MoveToBack from '@common/MoveToBack';\nimport { notFound } from '@apis/router';\nimport '@screens/MessageDetail.scss';\nimport InitMessage from '@/apis/notifications/foregroundMessaging';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MessageDetail() {\n  _s();\n  // recoil\n  const [isLoading, setIsLoading] = useRecoilState(loadingState);\n  setIsLoading(true);\n\n  // 풍선 저장 관련\n  const messageDetailRef = useRef(null);\n\n  // 전달 받은 messageId가 숫자가 아니라면 notfound로 이동\n  const navigate = useNavigate();\n  const params = useParams();\n  const messageId = params.id;\n  useEffect(() => {\n    loader();\n  }, []);\n  const loader = async () => {\n    if (!messageId || !parseInt(messageId)) {\n      navigate(notFound());\n    }\n  };\n\n  // 현재 사용자 정보\n  const currentUserId = 1;\n\n  // 서버 통신으로 게시글 정보 가져오기\n  const data = {\n    title: '여우비 가온해 안녕',\n    content: '바나나 아련 노트북 포도 늘품 미리내 바나나 그루잠 감사합니다 노트북 바람꽃 아련 별하 소록소록 산들림 함초롱하다 아련 늘품 감또개 이플 컴퓨터 노트북 나래 산들림 도르레 가온해!',\n    like_cnt: 121,\n    is_like: true,\n    date: new Date(),\n    user_id: 0,\n    type: 0,\n    emoji_no: 15,\n    status: 0,\n    background: 1\n  };\n\n  // 현재 사용자가 작성한 게시글인지 확인\n  const isMine = currentUserId === data.user_id;\n\n  // 메뉴 표시 여부\n  const [more, setMore] = useState(false);\n  const hiddenMenu = () => {\n    if (more) setMore(false);\n  };\n  const showMenu = () => setMore(!more);\n\n  // 날짜 형식에 맞춰 표시\n  const modifiedDate = () => {\n    let month = data.date.getMonth();\n    if (month < 10) month = '0' + month;\n    let day = data.date.getDate();\n    if (day < 10) day = '0' + day;\n    return `${data.date.getFullYear()}-${month}-${day}`;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(InitMessage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `screen background${data.background}`,\n      ref: messageDetailRef,\n      onClick: hiddenMenu,\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        id: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          \"data-html2canvas-ignore\": \"true\",\n          className: \"ignore\",\n          children: [/*#__PURE__*/_jsxDEV(MoveToBack, {\n            path: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"message-detail-nav-more\",\n            onClick: showMenu,\n            children: /*#__PURE__*/_jsxDEV(EllipsisVertical, {\n              width: \"32\",\n              height: \"32\",\n              fill: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MoreMenu, {\n            open: more,\n            isMine: isMine,\n            detail: messageDetailRef,\n            messageId: messageId,\n            type: data.type,\n            content: data.content,\n            close: hiddenMenu,\n            status: data.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Content, {\n            title: data.title,\n            content: data.content,\n            type: data.type,\n            date: modifiedDate(),\n            status: data.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Like, {\n            count: data.like_cnt,\n            like: data.is_like,\n            isMine: isMine,\n            emoji: data.emoji_no\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MessageDetail, \"M6AQm40UOZHw5iHOYmrEZzKLSGU=\", false, function () {\n  return [useRecoilState, useNavigate, useParams];\n});\n_c = MessageDetail;\nexport default MessageDetail;\nvar _c;\n$RefreshReg$(_c, \"MessageDetail\");","map":{"version":3,"names":["useState","useRef","useEffect","useNavigate","useParams","useRecoilState","loadingState","ReactComponent","EllipsisVertical","MoreMenu","Content","Like","MoveToBack","notFound","InitMessage","MessageDetail","isLoading","setIsLoading","messageDetailRef","navigate","params","messageId","id","loader","parseInt","currentUserId","data","title","content","like_cnt","is_like","date","Date","user_id","type","emoji_no","status","background","isMine","more","setMore","hiddenMenu","showMenu","modifiedDate","month","getMonth","day","getDate","getFullYear"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/screens/MessageDetail.tsx"],"sourcesContent":["import {useState, useRef, useEffect} from 'react';\r\nimport {useNavigate, useParams} from 'react-router';\r\nimport {useRecoilState} from 'recoil';\r\nimport {loadingState} from '@apis/Recoil';\r\nimport {ReactComponent as EllipsisVertical} from '@images/ellipsisVertical.svg';\r\nimport MoreMenu from '@common/MoreMenu';\r\nimport Content from '@messageDetail/Content';\r\nimport Like from '@messageDetail/Like';\r\nimport MoveToBack from '@common/MoveToBack';\r\nimport {notFound} from '@apis/router';\r\nimport '@screens/MessageDetail.scss';\r\nimport InitMessage from '@/apis/notifications/foregroundMessaging';\r\n\r\nfunction MessageDetail() {\r\n  // recoil\r\n  const [isLoading, setIsLoading] = useRecoilState(loadingState);\r\n  setIsLoading(true);\r\n\r\n  // 풍선 저장 관련\r\n  const messageDetailRef = useRef(null!);\r\n\r\n  // 전달 받은 messageId가 숫자가 아니라면 notfound로 이동\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const messageId = params.id;\r\n\r\n  useEffect(() => {\r\n    loader();\r\n  }, []);\r\n\r\n  const loader = async () => {\r\n    if (!messageId || !parseInt(messageId)) {\r\n      navigate(notFound());\r\n    }\r\n  };\r\n\r\n  // 현재 사용자 정보\r\n  const currentUserId = 1;\r\n\r\n  // 서버 통신으로 게시글 정보 가져오기\r\n  const data = {\r\n    title: '여우비 가온해 안녕',\r\n    content:\r\n      '바나나 아련 노트북 포도 늘품 미리내 바나나 그루잠 감사합니다 노트북 바람꽃 아련 별하 소록소록 산들림 함초롱하다 아련 늘품 감또개 이플 컴퓨터 노트북 나래 산들림 도르레 가온해!',\r\n    like_cnt: 121,\r\n    is_like: true,\r\n    date: new Date(),\r\n    user_id: 0,\r\n    type: 0,\r\n    emoji_no: 15,\r\n    status: 0,\r\n    background: 1,\r\n  };\r\n\r\n  // 현재 사용자가 작성한 게시글인지 확인\r\n  const isMine = currentUserId === data.user_id;\r\n\r\n  // 메뉴 표시 여부\r\n  const [more, setMore] = useState(false);\r\n\r\n  const hiddenMenu = () => {\r\n    if (more) setMore(false);\r\n  };\r\n\r\n  const showMenu = () => setMore(!more);\r\n\r\n  // 날짜 형식에 맞춰 표시\r\n  const modifiedDate = () => {\r\n    let month: number | string = data.date.getMonth();\r\n    if (month < 10) month = '0' + month;\r\n    let day: number | string = data.date.getDate();\r\n    if (day < 10) day = '0' + day;\r\n    return `${data.date.getFullYear()}-${month}-${day}`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <InitMessage />\r\n      <div\r\n        className={`screen background${data.background}`}\r\n        ref={messageDetailRef}\r\n        onClick={hiddenMenu}>\r\n        <main id=\"container\">\r\n          <section data-html2canvas-ignore=\"true\" className=\"ignore\">\r\n            <MoveToBack path=\"\" />\r\n            <div id=\"message-detail-nav-more\" onClick={showMenu}>\r\n              <EllipsisVertical width=\"32\" height=\"32\" fill=\"white\" />\r\n            </div>\r\n            <MoreMenu\r\n              open={more}\r\n              isMine={isMine}\r\n              detail={messageDetailRef}\r\n              messageId={messageId}\r\n              type={data.type}\r\n              content={data.content}\r\n              close={hiddenMenu}\r\n              status={data.status}\r\n            />\r\n          </section>\r\n          <section className=\"container\">\r\n            <Content\r\n              title={data.title}\r\n              content={data.content}\r\n              type={data.type}\r\n              date={modifiedDate()}\r\n              status={data.status}\r\n            />\r\n            <Like\r\n              count={data.like_cnt}\r\n              like={data.is_like}\r\n              isMine={isMine}\r\n              emoji={data.emoji_no}\r\n            />\r\n          </section>\r\n        </main>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MessageDetail;\r\n"],"mappings":";;AAAA,SAAQA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAO,OAAO;AACjD,SAAQC,WAAW,EAAEC,SAAS,QAAO,cAAc;AACnD,SAAQC,cAAc,QAAO,QAAQ;AACrC,SAAQC,YAAY,QAAO,cAAc;AACzC,SAAQC,cAAc,IAAIC,gBAAgB,QAAO,8BAA8B;AAC/E,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,OAAO,MAAM,wBAAwB;AAC5C,OAAOC,IAAI,MAAM,qBAAqB;AACtC,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,SAAQC,QAAQ,QAAO,cAAc;AACrC,OAAO,6BAA6B;AACpC,OAAOC,WAAW,MAAM,0CAA0C;AAAC;AAAA;AAEnE,SAASC,aAAa,GAAG;EAAA;EACvB;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,cAAc,CAACC,YAAY,CAAC;EAC9DW,YAAY,CAAC,IAAI,CAAC;;EAElB;EACA,MAAMC,gBAAgB,GAAGjB,MAAM,CAAC,IAAI,CAAE;;EAEtC;EACA,MAAMkB,QAAQ,GAAGhB,WAAW,EAAE;EAC9B,MAAMiB,MAAM,GAAGhB,SAAS,EAAE;EAC1B,MAAMiB,SAAS,GAAGD,MAAM,CAACE,EAAE;EAE3BpB,SAAS,CAAC,MAAM;IACdqB,MAAM,EAAE;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,MAAM,GAAG,YAAY;IACzB,IAAI,CAACF,SAAS,IAAI,CAACG,QAAQ,CAACH,SAAS,CAAC,EAAE;MACtCF,QAAQ,CAACN,QAAQ,EAAE,CAAC;IACtB;EACF,CAAC;;EAED;EACA,MAAMY,aAAa,GAAG,CAAC;;EAEvB;EACA,MAAMC,IAAI,GAAG;IACXC,KAAK,EAAE,YAAY;IACnBC,OAAO,EACL,sGAAsG;IACxGC,QAAQ,EAAE,GAAG;IACbC,OAAO,EAAE,IAAI;IACbC,IAAI,EAAE,IAAIC,IAAI,EAAE;IAChBC,OAAO,EAAE,CAAC;IACVC,IAAI,EAAE,CAAC;IACPC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,CAAC;IACTC,UAAU,EAAE;EACd,CAAC;;EAED;EACA,MAAMC,MAAM,GAAGb,aAAa,KAAKC,IAAI,CAACO,OAAO;;EAE7C;EACA,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EAEvC,MAAMyC,UAAU,GAAG,MAAM;IACvB,IAAIF,IAAI,EAAEC,OAAO,CAAC,KAAK,CAAC;EAC1B,CAAC;EAED,MAAME,QAAQ,GAAG,MAAMF,OAAO,CAAC,CAACD,IAAI,CAAC;;EAErC;EACA,MAAMI,YAAY,GAAG,MAAM;IACzB,IAAIC,KAAsB,GAAGlB,IAAI,CAACK,IAAI,CAACc,QAAQ,EAAE;IACjD,IAAID,KAAK,GAAG,EAAE,EAAEA,KAAK,GAAG,GAAG,GAAGA,KAAK;IACnC,IAAIE,GAAoB,GAAGpB,IAAI,CAACK,IAAI,CAACgB,OAAO,EAAE;IAC9C,IAAID,GAAG,GAAG,EAAE,EAAEA,GAAG,GAAG,GAAG,GAAGA,GAAG;IAC7B,OAAQ,GAAEpB,IAAI,CAACK,IAAI,CAACiB,WAAW,EAAG,IAAGJ,KAAM,IAAGE,GAAI,EAAC;EACrD,CAAC;EAED,oBACE;IAAA,wBACE,QAAC,WAAW;MAAA;MAAA;MAAA;IAAA,QAAG,eACf;MACE,SAAS,EAAG,oBAAmBpB,IAAI,CAACW,UAAW,EAAE;MACjD,GAAG,EAAEnB,gBAAiB;MACtB,OAAO,EAAEuB,UAAW;MAAA,uBACpB;QAAM,EAAE,EAAC,WAAW;QAAA,wBAClB;UAAS,2BAAwB,MAAM;UAAC,SAAS,EAAC,QAAQ;UAAA,wBACxD,QAAC,UAAU;YAAC,IAAI,EAAC;UAAE;YAAA;YAAA;YAAA;UAAA,QAAG,eACtB;YAAK,EAAE,EAAC,yBAAyB;YAAC,OAAO,EAAEC,QAAS;YAAA,uBAClD,QAAC,gBAAgB;cAAC,KAAK,EAAC,IAAI;cAAC,MAAM,EAAC,IAAI;cAAC,IAAI,EAAC;YAAO;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA,QACpD,eACN,QAAC,QAAQ;YACP,IAAI,EAAEH,IAAK;YACX,MAAM,EAAED,MAAO;YACf,MAAM,EAAEpB,gBAAiB;YACzB,SAAS,EAAEG,SAAU;YACrB,IAAI,EAAEK,IAAI,CAACQ,IAAK;YAChB,OAAO,EAAER,IAAI,CAACE,OAAQ;YACtB,KAAK,EAAEa,UAAW;YAClB,MAAM,EAAEf,IAAI,CAACU;UAAO;YAAA;YAAA;YAAA;UAAA,QACpB;QAAA;UAAA;UAAA;UAAA;QAAA,QACM,eACV;UAAS,SAAS,EAAC,WAAW;UAAA,wBAC5B,QAAC,OAAO;YACN,KAAK,EAAEV,IAAI,CAACC,KAAM;YAClB,OAAO,EAAED,IAAI,CAACE,OAAQ;YACtB,IAAI,EAAEF,IAAI,CAACQ,IAAK;YAChB,IAAI,EAAES,YAAY,EAAG;YACrB,MAAM,EAAEjB,IAAI,CAACU;UAAO;YAAA;YAAA;YAAA;UAAA,QACpB,eACF,QAAC,IAAI;YACH,KAAK,EAAEV,IAAI,CAACG,QAAS;YACrB,IAAI,EAAEH,IAAI,CAACI,OAAQ;YACnB,MAAM,EAAEQ,MAAO;YACf,KAAK,EAAEZ,IAAI,CAACS;UAAS;YAAA;YAAA;YAAA;UAAA,QACrB;QAAA;UAAA;UAAA;UAAA;QAAA,QACM;MAAA;QAAA;QAAA;QAAA;MAAA;IACL;MAAA;MAAA;MAAA;IAAA,QACH;EAAA,gBACL;AAEP;AAAC,GAzGQpB,aAAa;EAAA,QAEcV,cAAc,EAO/BF,WAAW,EACbC,SAAS;AAAA;AAAA,KAVjBW,aAAa;AA2GtB,eAAeA,aAAa;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}