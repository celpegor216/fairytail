{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/S07P31C209/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'@individual/Settings.scss';import Toggle from'@messageCreate/Toggle';import{returnTrue,returnFalse}from'@common/commonFunc';import{useState}from'react';import{bgmList}from'@common/commonFunc';import BgmModal from'@individual/BgmModal';import InfoModal from'@/components/individual/InfoModal';import Confirm from'@common/Confirm';import Alert from'@common/Alert';import{useRecoilState}from'recoil';import{playingState}from'@apis/Recoil';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Settings(){// 그 전에 설정했던 사항이 props로 들어옴 (좋아요 알림, 배경음악 여부, 배경음악)\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),permitNoti=_useState2[0],setPermitNoti=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),selectBgm=_useState4[0],setSelectBgm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),wantLogout=_useState6[0],setWantLogout=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),wantInfo=_useState8[0],setWantInfo=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),infoType=_useState10[0],setInfoType=_useState10[1];var _useState11=useState({title:'',message:''}),_useState12=_slicedToArray(_useState11,2),info=_useState12[0],setInfo=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),openAlert=_useState14[0],setOpenAlert=_useState14[1];var _useState15=useState(bgmList[0].title),_useState16=_slicedToArray(_useState15,2),bgm=_useState16[0],setBgm=_useState16[1];var _useRecoilState=useRecoilState(playingState),_useRecoilState2=_slicedToArray(_useRecoilState,2),onPlay=_useRecoilState2[0],setOnPlay=_useRecoilState2[1];// 좋아요 알림 변경\nvar changePermitNoti=function changePermitNoti(){setPermitNoti(!permitNoti);};//  배경 음악 재생 여부 변경\nvar changeOnPlay=function changeOnPlay(){setOnPlay(function(prev){return!prev;});console.log(onPlay);};// 팝업에 뜰 내용 변경\nvar changeInfo=function changeInfo(title,message){setInfo(function(){return{title:title,message:message};});};// 로그아웃\nvar logoutConfirm=function logoutConfirm(){changeInfo('확인','정말 로그아웃하시겠어요?');setWantLogout(returnTrue);};// 로그아웃 요청 백에 보내기\nvar logout=function logout(){// axios.post('url')\n// .then(())\nchangeInfo('완료','정상적으로 로그아웃되었습니다.');cancelLogout();setOpenAlert(returnTrue);};// alert 창 닫기\nvar closeAlert=function closeAlert(){setOpenAlert(returnFalse);};// 모달 창에서 로그아웃 취소\nvar cancelLogout=function cancelLogout(){setWantLogout(returnFalse);};// bgm 설정 여부 변경\nvar changeBgmPermit=function changeBgmPermit(){changeOnPlay();if(bgm){// setPermitBgm(returnFalse);\nsetBgm('');}else{// setPermitBgm(returnTrue);\nsetBgm(bgmList[0].title);}};// bgm 팝업 띄우기\nvar bgmPopUp=function bgmPopUp(){changeOnPlay();setSelectBgm(returnTrue);};// bgm 팝업 끄기\nvar closeBgmPopUp=function closeBgmPopUp(){setSelectBgm(returnFalse);// 팝업에서 아무 것도 선택하지 않고 끌 경우\nif(!bgm){changeOnPlay();}};var openInfoModal=function openInfoModal(type){return function(){setInfoType(type);setWantInfo(returnTrue);};};var closeInfoModal=function closeInfoModal(){setWantInfo(returnFalse);};return/*#__PURE__*/_jsxs(\"main\",{className:\"white settings\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"settings-title\",children:\"\\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"settings-each\",onClick:changePermitNoti,children:\"\\uC88B\\uC544\\uC694 \\uC54C\\uB9BC\"}),/*#__PURE__*/_jsx(Toggle,{label:\"\",onClick:setPermitNoti,value:permitNoti})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-each\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:changeOnPlay,children:\"\\uBC30\\uACBD\\uC74C\\uC545\"}),/*#__PURE__*/_jsx(\"div\",{className:onPlay?'bgm-title':'bgm-hidden',onClick:bgmPopUp,children:bgm||'bgm'})]}),/*#__PURE__*/_jsx(Toggle,{label:\"\",onClick:changeOnPlay,value:onPlay})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"settings-title\",children:\"\\uACC4\\uC815\"}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-each settings-margin-bottom\",onClick:logoutConfirm,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"settings-title\",children:\"\\uAE30\\uD0C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-each settings-margin-bottom\",onClick:openInfoModal('license'),children:\"\\uB77C\\uC774\\uC120\\uC2A4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"settings-each settings-margin-bottom\",onClick:openInfoModal('help'),children:\"\\uB3C4\\uC6C0\\uB9D0\"})]}),/*#__PURE__*/_jsx(Confirm,{info:info,open:wantLogout,onConfirmed:logout,onCancel:cancelLogout}),/*#__PURE__*/_jsx(Alert,{info:info,open:openAlert,onConfirmed:closeAlert}),/*#__PURE__*/_jsx(BgmModal,{bgm:bgm,setBgm:setBgm,open:selectBgm,onCancel:closeBgmPopUp}),/*#__PURE__*/_jsx(InfoModal,{open:wantInfo,onConfirmed:closeInfoModal,type:infoType})]});}export default Settings;","map":{"version":3,"names":["Toggle","returnTrue","returnFalse","useState","bgmList","BgmModal","InfoModal","Confirm","Alert","useRecoilState","playingState","Settings","permitNoti","setPermitNoti","selectBgm","setSelectBgm","wantLogout","setWantLogout","wantInfo","setWantInfo","infoType","setInfoType","title","message","info","setInfo","openAlert","setOpenAlert","bgm","setBgm","onPlay","setOnPlay","changePermitNoti","changeOnPlay","prev","console","log","changeInfo","logoutConfirm","logout","cancelLogout","closeAlert","changeBgmPermit","bgmPopUp","closeBgmPopUp","openInfoModal","type","closeInfoModal"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/components/individual/Settings.tsx"],"sourcesContent":["import {useEffect} from 'react';\r\nimport '@individual/Settings.scss';\r\nimport Toggle from '@messageCreate/Toggle';\r\nimport {returnTrue, returnFalse} from '@common/commonFunc';\r\nimport {useState} from 'react';\r\nimport {popUp} from '@common/commonFunc';\r\nimport {bgmList} from '@common/commonFunc';\r\nimport BgmModal from '@individual/BgmModal';\r\nimport InfoModal from '@/components/individual/InfoModal';\r\nimport Confirm from '@common/Confirm';\r\nimport Alert from '@common/Alert';\r\nimport {useRecoilState} from 'recoil';\r\nimport {playingState} from '@apis/Recoil';\r\n\r\nfunction Settings() {\r\n  // 그 전에 설정했던 사항이 props로 들어옴 (좋아요 알림, 배경음악 여부, 배경음악)\r\n  const [permitNoti, setPermitNoti] = useState(true);\r\n  const [selectBgm, setSelectBgm] = useState(false);\r\n  const [wantLogout, setWantLogout] = useState(false);\r\n  const [wantInfo, setWantInfo] = useState(false);\r\n  const [infoType, setInfoType] = useState('');\r\n  const [info, setInfo] = useState<popUp>({title: '', message: ''});\r\n  const [openAlert, setOpenAlert] = useState(false);\r\n  const [bgm, setBgm] = useState(bgmList[0].title);\r\n  const [onPlay, setOnPlay] = useRecoilState(playingState);\r\n\r\n  // 좋아요 알림 변경\r\n  const changePermitNoti = () => {\r\n    setPermitNoti(!permitNoti);\r\n  };\r\n\r\n  //  배경 음악 재생 여부 변경\r\n  const changeOnPlay = () => {\r\n    setOnPlay(prev => !prev);\r\n    console.log(onPlay);\r\n  };\r\n\r\n  // 팝업에 뜰 내용 변경\r\n  const changeInfo = (title: popUp['title'], message: popUp['message']) => {\r\n    setInfo(() => ({\r\n      title,\r\n      message,\r\n    }));\r\n  };\r\n  // 로그아웃\r\n  const logoutConfirm = () => {\r\n    changeInfo('확인', '정말 로그아웃하시겠어요?');\r\n    setWantLogout(returnTrue);\r\n  };\r\n  // 로그아웃 요청 백에 보내기\r\n  const logout = () => {\r\n    // axios.post('url')\r\n    // .then(())\r\n    changeInfo('완료', '정상적으로 로그아웃되었습니다.');\r\n    cancelLogout();\r\n    setOpenAlert(returnTrue);\r\n  };\r\n  // alert 창 닫기\r\n  const closeAlert = () => {\r\n    setOpenAlert(returnFalse);\r\n  };\r\n  // 모달 창에서 로그아웃 취소\r\n  const cancelLogout = () => {\r\n    setWantLogout(returnFalse);\r\n  };\r\n  // bgm 설정 여부 변경\r\n  const changeBgmPermit = () => {\r\n    changeOnPlay();\r\n    if (bgm) {\r\n      // setPermitBgm(returnFalse);\r\n      setBgm('');\r\n    } else {\r\n      // setPermitBgm(returnTrue);\r\n      setBgm(bgmList[0].title);\r\n    }\r\n  };\r\n\r\n  // bgm 팝업 띄우기\r\n  const bgmPopUp = () => {\r\n    changeOnPlay();\r\n    setSelectBgm(returnTrue);\r\n  };\r\n  // bgm 팝업 끄기\r\n  const closeBgmPopUp = () => {\r\n    setSelectBgm(returnFalse);\r\n    // 팝업에서 아무 것도 선택하지 않고 끌 경우\r\n    if (!bgm) {\r\n      changeOnPlay();\r\n    }\r\n  };\r\n\r\n  const openInfoModal = (type: string) => {\r\n    return () => {\r\n      setInfoType(type);\r\n      setWantInfo(returnTrue);\r\n    };\r\n  };\r\n  const closeInfoModal = () => {\r\n    setWantInfo(returnFalse);\r\n  };\r\n\r\n  return (\r\n    <main className=\"white settings\">\r\n      {/* 애플리케이션 */}\r\n      <section className=\"settings-section\">\r\n        <div className=\"settings-title\">애플리케이션</div>\r\n        <div className=\"settings-between\">\r\n          <div className=\"settings-each\" onClick={changePermitNoti}>\r\n            좋아요 알림\r\n          </div>\r\n          <Toggle label=\"\" onClick={setPermitNoti} value={permitNoti} />\r\n        </div>\r\n        <div className=\"settings-between\">\r\n          <div className=\"settings-each\">\r\n            <div onClick={changeOnPlay}>배경음악</div>\r\n            <div\r\n              className={onPlay ? 'bgm-title' : 'bgm-hidden'}\r\n              onClick={bgmPopUp}>\r\n              {bgm || 'bgm'}\r\n            </div>\r\n          </div>\r\n          <Toggle label=\"\" onClick={changeOnPlay} value={onPlay} />\r\n        </div>\r\n      </section>\r\n\r\n      {/* 계정 */}\r\n      <section className=\"settings-section\">\r\n        <div className=\"settings-title\">계정</div>\r\n        <div\r\n          className=\"settings-each settings-margin-bottom\"\r\n          onClick={logoutConfirm}>\r\n          로그아웃\r\n        </div>\r\n      </section>\r\n\r\n      {/* 기타 */}\r\n      <section className=\"settings-section\">\r\n        <div className=\"settings-title\">기타</div>\r\n        <div\r\n          className=\"settings-each settings-margin-bottom\"\r\n          onClick={openInfoModal('license')}>\r\n          라이선스\r\n        </div>\r\n        <span\r\n          className=\"settings-each settings-margin-bottom\"\r\n          onClick={openInfoModal('help')}>\r\n          도움말\r\n        </span>\r\n      </section>\r\n\r\n      {/* 로그아웃 확인 */}\r\n      <Confirm\r\n        info={info}\r\n        open={wantLogout}\r\n        onConfirmed={logout}\r\n        onCancel={cancelLogout}\r\n      />\r\n\r\n      {/* 로그아웃 완료 */}\r\n      <Alert info={info} open={openAlert} onConfirmed={closeAlert} />\r\n\r\n      {/* 배경음악 목록 */}\r\n      <BgmModal\r\n        bgm={bgm}\r\n        setBgm={setBgm}\r\n        open={selectBgm}\r\n        onCancel={closeBgmPopUp}\r\n      />\r\n\r\n      {/* 라이선스, 도움말 모달 */}\r\n      <InfoModal open={wantInfo} onConfirmed={closeInfoModal} type={infoType} />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}