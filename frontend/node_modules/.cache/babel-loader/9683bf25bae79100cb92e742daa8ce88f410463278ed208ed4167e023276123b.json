{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\S07P31C209\\\\frontend\\\\src\\\\screens\\\\MessageDetail.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router';\nimport { useRecoilState } from 'recoil';\nimport { loadingState } from '@apis/Recoil';\nimport { ReactComponent as EllipsisVertical } from '@images/more_4.svg';\nimport MoreMenu from '@common/MoreMenu';\nimport Content from '@messageDetail/Content';\nimport Like from '@messageDetail/Like';\nimport MoveToBack from '@common/MoveToBack';\nimport { notFound } from '@apis/router';\nimport '@screens/MessageDetail.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageDetail() {\n  _s();\n  // recoil\n  const [isLoading, setIsLoading] = useRecoilState(loadingState);\n  setIsLoading(true);\n\n  // 풍선 저장 관련\n  const messageDetailRef = useRef(null);\n\n  // 전달 받은 messageId가 숫자가 아니라면 notfound로 이동\n  const navigate = useNavigate();\n  const params = useParams();\n  const messageId = params.id;\n  useEffect(() => {\n    loader();\n  }, []);\n  const loader = async () => {\n    if (!messageId || !parseInt(messageId)) {\n      navigate(notFound());\n    }\n  };\n\n  // 현재 사용자 정보\n  const currentUserId = 1;\n\n  // 서버 통신으로 게시글 정보 가져오기\n  const data = {\n    title: '여우비 가온해 안녕',\n    content: '바나나 아련 노트북 포도 늘품 미리내 바나나 그루잠 감사합니다 노트북 바람꽃 아련 별하 소록소록 산들림 함초롱하다 아련 늘품 감또개 이플 컴퓨터 노트북 나래 산들림 도르레 가온해!',\n    like_cnt: 121,\n    is_like: true,\n    date: new Date(),\n    user_id: 0,\n    type: 0,\n    emoji_no: 15,\n    status: 0,\n    background: 1\n  };\n\n  // 현재 사용자가 작성한 게시글인지 확인\n  const isMine = currentUserId === data.user_id;\n\n  // 메뉴 표시 여부\n  const [more, setMore] = useState(false);\n  const hiddenMenu = () => {\n    if (more) setMore(false);\n  };\n  const showMenu = () => setMore(!more);\n\n  // 날짜 형식에 맞춰 표시\n  const modifiedDate = () => {\n    let month = data.date.getMonth();\n    if (month < 10) month = '0' + month;\n    let day = data.date.getDate();\n    if (day < 10) day = '0' + day;\n    return `${data.date.getFullYear()}-${month}-${day}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `screen background${data.background}`,\n    ref: messageDetailRef,\n    onClick: hiddenMenu,\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      id: \"message-detail-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        \"data-html2canvas-ignore\": \"true\",\n        className: \"ignore\",\n        children: [/*#__PURE__*/_jsxDEV(MoveToBack, {\n          path: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"message-detail-nav-more\",\n          onClick: showMenu,\n          children: /*#__PURE__*/_jsxDEV(EllipsisVertical, {\n            width: \"25\",\n            height: \"25\",\n            fill: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MoreMenu, {\n          open: more,\n          isMine: isMine,\n          detail: messageDetailRef,\n          messageId: messageId,\n          type: data.type,\n          content: data.content,\n          close: hiddenMenu,\n          status: data.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Content, {\n          title: data.title,\n          content: data.content,\n          type: data.type,\n          date: modifiedDate(),\n          status: data.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Like, {\n          count: data.like_cnt,\n          like: data.is_like,\n          isMine: isMine,\n          emoji: data.emoji_no\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(MessageDetail, \"M6AQm40UOZHw5iHOYmrEZzKLSGU=\", false, function () {\n  return [useRecoilState, useNavigate, useParams];\n});\n_c = MessageDetail;\nexport default MessageDetail;\nvar _c;\n$RefreshReg$(_c, \"MessageDetail\");","map":{"version":3,"names":["useState","useRef","useEffect","useNavigate","useParams","useRecoilState","loadingState","ReactComponent","EllipsisVertical","MoreMenu","Content","Like","MoveToBack","notFound","MessageDetail","isLoading","setIsLoading","messageDetailRef","navigate","params","messageId","id","loader","parseInt","currentUserId","data","title","content","like_cnt","is_like","date","Date","user_id","type","emoji_no","status","background","isMine","more","setMore","hiddenMenu","showMenu","modifiedDate","month","getMonth","day","getDate","getFullYear"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/screens/MessageDetail.tsx"],"sourcesContent":["import {useState, useRef, useEffect} from 'react';\r\nimport {useNavigate, useParams} from 'react-router';\r\nimport {useRecoilState} from 'recoil';\r\nimport {loadingState} from '@apis/Recoil';\r\nimport {ReactComponent as EllipsisVertical} from '@images/more_4.svg';\r\nimport MoreMenu from '@common/MoreMenu';\r\nimport Content from '@messageDetail/Content';\r\nimport Like from '@messageDetail/Like';\r\nimport MoveToBack from '@common/MoveToBack';\r\nimport {notFound} from '@apis/router';\r\nimport '@screens/MessageDetail.scss';\r\n\r\nfunction MessageDetail() {\r\n  // recoil\r\n  const [isLoading, setIsLoading] = useRecoilState(loadingState);\r\n  setIsLoading(true);\r\n\r\n  // 풍선 저장 관련\r\n  const messageDetailRef = useRef(null!);\r\n\r\n  // 전달 받은 messageId가 숫자가 아니라면 notfound로 이동\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const messageId = params.id;\r\n\r\n  useEffect(() => {\r\n    loader();\r\n  }, []);\r\n\r\n  const loader = async () => {\r\n    if (!messageId || !parseInt(messageId)) {\r\n      navigate(notFound());\r\n    }\r\n  };\r\n\r\n  // 현재 사용자 정보\r\n  const currentUserId = 1;\r\n\r\n  // 서버 통신으로 게시글 정보 가져오기\r\n  const data = {\r\n    title: '여우비 가온해 안녕',\r\n    content:\r\n      '바나나 아련 노트북 포도 늘품 미리내 바나나 그루잠 감사합니다 노트북 바람꽃 아련 별하 소록소록 산들림 함초롱하다 아련 늘품 감또개 이플 컴퓨터 노트북 나래 산들림 도르레 가온해!',\r\n    like_cnt: 121,\r\n    is_like: true,\r\n    date: new Date(),\r\n    user_id: 0,\r\n    type: 0,\r\n    emoji_no: 15,\r\n    status: 0,\r\n    background: 1,\r\n  };\r\n\r\n  // 현재 사용자가 작성한 게시글인지 확인\r\n  const isMine = currentUserId === data.user_id;\r\n\r\n  // 메뉴 표시 여부\r\n  const [more, setMore] = useState(false);\r\n\r\n  const hiddenMenu = () => {\r\n    if (more) setMore(false);\r\n  };\r\n\r\n  const showMenu = () => setMore(!more);\r\n\r\n  // 날짜 형식에 맞춰 표시\r\n  const modifiedDate = () => {\r\n    let month: number | string = data.date.getMonth();\r\n    if (month < 10) month = '0' + month;\r\n    let day: number | string = data.date.getDate();\r\n    if (day < 10) day = '0' + day;\r\n    return `${data.date.getFullYear()}-${month}-${day}`;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`screen background${data.background}`}\r\n      ref={messageDetailRef}\r\n      onClick={hiddenMenu}>\r\n      <main id=\"message-detail-container\">\r\n        <section data-html2canvas-ignore=\"true\" className=\"ignore\">\r\n          <MoveToBack path=\"\" />\r\n          <div id=\"message-detail-nav-more\" onClick={showMenu}>\r\n            <EllipsisVertical width=\"25\" height=\"25\" fill=\"white\" />\r\n          </div>\r\n          <MoreMenu\r\n            open={more}\r\n            isMine={isMine}\r\n            detail={messageDetailRef}\r\n            messageId={messageId}\r\n            type={data.type}\r\n            content={data.content}\r\n            close={hiddenMenu}\r\n            status={data.status}\r\n          />\r\n        </section>\r\n        <section className=\"container\">\r\n          <Content\r\n            title={data.title}\r\n            content={data.content}\r\n            type={data.type}\r\n            date={modifiedDate()}\r\n            status={data.status}\r\n          />\r\n          <Like\r\n            count={data.like_cnt}\r\n            like={data.is_like}\r\n            isMine={isMine}\r\n            emoji={data.emoji_no}\r\n          />\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MessageDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}