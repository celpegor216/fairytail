{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/S07P31C209/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import Alert from'@common/Alert';import{returnTrue,returnFalse}from'@common/commonFunc';import'@common/Common.scss';import SelectBox from'../common/SelectBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Report(_ref){var onCancel=_ref.onCancel,open=_ref.open;// 선택한 신고 유형\nvar _useState=useState(-1),_useState2=_slicedToArray(_useState,2),reportType=_useState2[0],setReportType=_useState2[1];var reportRef=useRef(null);useEffect(function(){window.addEventListener('mousedown',function(_ref2){var target=_ref2.target;if(reportRef.current&&!reportRef.current.contains(target)){setReportType(-1);onCancel();}});});var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),reported=_useState4[0],setReported=_useState4[1];var reportedAlert=function reportedAlert(){// 백에 신고 요청\n// axios.post('url')\nsetReported(returnTrue);};var closeAlert=function closeAlert(){setReported(returnFalse);onCancel();};var options=['저작권 위반','개인정보 침해','부적절한 내용','불법 홍보','기타'];var info={title:'확인',message:'신고가 접수되었습니다.'};return/*#__PURE__*/_jsxs(_Fragment,{children:[open?/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",ref:reportRef,children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal-title\",children:\"\\uC2E0\\uACE0\"}),/*#__PURE__*/_jsx(SelectBox,{reportType:reportType,setReportType:setReportType,options:options}),/*#__PURE__*/_jsx(\"textarea\",{className:\"modal-textarea\",placeholder:\"\\uC2E0\\uACE0 \\uC0AC\\uC720\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",maxLength:100,rows:8}),/*#__PURE__*/_jsxs(\"footer\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:reportedAlert,children:\"\\uD655\\uC778\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:onCancel,children:\"\\uCDE8\\uC18C\"})]})]}):null,/*#__PURE__*/_jsx(Alert,{info:info,open:reported,onConfirmed:closeAlert})]});}export default Report;","map":{"version":3,"names":["useState","useEffect","useRef","Alert","returnTrue","returnFalse","SelectBox","Report","onCancel","open","reportType","setReportType","reportRef","window","addEventListener","target","current","contains","reported","setReported","reportedAlert","closeAlert","options","info","title","message"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/components/messageDetail/Report.tsx"],"sourcesContent":["import {useState, useEffect, useRef} from 'react';\r\nimport Alert from '@common/Alert';\r\nimport {returnTrue, returnFalse} from '@common/commonFunc';\r\nimport '@common/Common.scss';\r\nimport SelectBox from '../common/SelectBox';\r\n\r\ninterface ReportProps {\r\n  open: boolean;\r\n  onCancel: () => void;\r\n}\r\n\r\nfunction Report({onCancel, open}: ReportProps) {\r\n  // 선택한 신고 유형\r\n  const [reportType, setReportType] = useState(-1);\r\n\r\n  const reportRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mousedown', ({target}) => {\r\n      if (reportRef.current && !reportRef.current.contains(target as Node)) {\r\n        setReportType(-1);\r\n        onCancel();\r\n      }\r\n    });\r\n  });\r\n\r\n  const [reported, setReported] = useState(false);\r\n  const reportedAlert = () => {\r\n    // 백에 신고 요청\r\n    // axios.post('url')\r\n    setReported(returnTrue);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setReported(returnFalse);\r\n    onCancel();\r\n  };\r\n\r\n  const options = [\r\n    '저작권 위반',\r\n    '개인정보 침해',\r\n    '부적절한 내용',\r\n    '불법 홍보',\r\n    '기타',\r\n  ];\r\n\r\n  const info = {title: '확인', message: '신고가 접수되었습니다.'};\r\n\r\n  return (\r\n    <>\r\n      {open ? (\r\n        <div className=\"modal\" ref={reportRef}>\r\n          <p className=\"modal-title\">신고</p>\r\n\r\n          <SelectBox\r\n            reportType={reportType}\r\n            setReportType={setReportType}\r\n            options={options}\r\n          />\r\n\r\n          <textarea\r\n            className=\"modal-textarea\"\r\n            placeholder=\"신고 사유를 입력해주세요.\"\r\n            maxLength={100}\r\n            rows={8}\r\n          />\r\n          <footer className=\"modal-footer\">\r\n            <button className=\"btn\" onClick={reportedAlert}>\r\n              확인\r\n            </button>\r\n            <button className=\"btn\" onClick={onCancel}>\r\n              취소\r\n            </button>\r\n          </footer>\r\n        </div>\r\n      ) : null}\r\n      <Alert info={info} open={reported} onConfirmed={closeAlert} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Report;\r\n"],"mappings":"wIAAA,OAAQA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAO,OAAO,CACjD,MAAOC,MAAK,KAAM,eAAe,CACjC,OAAQC,UAAU,CAAEC,WAAW,KAAO,oBAAoB,CAC1D,MAAO,qBAAqB,CAC5B,MAAOC,UAAS,KAAM,qBAAqB,CAAC,6IAO5C,QAASC,OAAM,MAAgC,IAA9BC,SAAQ,MAARA,QAAQ,CAAEC,IAAI,MAAJA,IAAI,CAC7B;AACA,cAAoCT,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAAzCU,UAAU,eAAEC,aAAa,eAEhC,GAAMC,UAAS,CAAGV,MAAM,CAAiB,IAAI,CAAC,CAE9CD,SAAS,CAAC,UAAM,CACdY,MAAM,CAACC,gBAAgB,CAAC,WAAW,CAAE,eAAc,IAAZC,OAAM,OAANA,MAAM,CAC3C,GAAIH,SAAS,CAACI,OAAO,EAAI,CAACJ,SAAS,CAACI,OAAO,CAACC,QAAQ,CAACF,MAAM,CAAS,CAAE,CACpEJ,aAAa,CAAC,CAAC,CAAC,CAAC,CACjBH,QAAQ,EAAE,CACZ,CACF,CAAC,CAAC,CACJ,CAAC,CAAC,CAEF,eAAgCR,QAAQ,CAAC,KAAK,CAAC,yCAAxCkB,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1B;AACA;AACAD,WAAW,CAACf,UAAU,CAAC,CACzB,CAAC,CAED,GAAMiB,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvBF,WAAW,CAACd,WAAW,CAAC,CACxBG,QAAQ,EAAE,CACZ,CAAC,CAED,GAAMc,QAAO,CAAG,CACd,QAAQ,CACR,SAAS,CACT,SAAS,CACT,OAAO,CACP,IAAI,CACL,CAED,GAAMC,KAAI,CAAG,CAACC,KAAK,CAAE,IAAI,CAAEC,OAAO,CAAE,cAAc,CAAC,CAEnD,mBACE,2BACGhB,IAAI,cACH,aAAK,SAAS,CAAC,OAAO,CAAC,GAAG,CAAEG,SAAU,wBACpC,UAAG,SAAS,CAAC,aAAa,0BAAO,cAEjC,KAAC,SAAS,EACR,UAAU,CAAEF,UAAW,CACvB,aAAa,CAAEC,aAAc,CAC7B,OAAO,CAAEW,OAAQ,EACjB,cAEF,iBACE,SAAS,CAAC,gBAAgB,CAC1B,WAAW,CAAC,uEAAgB,CAC5B,SAAS,CAAE,GAAI,CACf,IAAI,CAAE,CAAE,EACR,cACF,gBAAQ,SAAS,CAAC,cAAc,wBAC9B,eAAQ,SAAS,CAAC,KAAK,CAAC,OAAO,CAAEF,aAAc,0BAEtC,cACT,eAAQ,SAAS,CAAC,KAAK,CAAC,OAAO,CAAEZ,QAAS,0BAEjC,GACF,GACL,CACJ,IAAI,cACR,KAAC,KAAK,EAAC,IAAI,CAAEe,IAAK,CAAC,IAAI,CAAEL,QAAS,CAAC,WAAW,CAAEG,UAAW,EAAG,GAC7D,CAEP,CAEA,cAAed,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}