{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/S07P31C209/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// notification\nimport{initToken}from'@apis/notifications/getMessagingToken';import{Suspense,useEffect,useRef,lazy}from'react';import{BrowserRouter,Routes,Route}from'react-router-dom';import bgm from'@bgms/silver_waves.mp3';import'@/App.scss';import Loading from'@components/loading/Loading';// route\nimport Intro from'@screens/Intro';import Main from'@screens/Main';import Globe from'@screens/Globe';import Map from'@screens/Map';// lazy loading으로 대체\n// import MessageList from '@screens/MessageList';\nimport MessageCreate from'@screens/MessageCreate';import MessageDetail from'@screens/MessageDetail';import VR from'@screens/VR';import NotFound from'@screens/NotFound';import Individual from'@screens/Individual';//recoil\nimport{useRecoilState}from'recoil';// router\nimport{main,intro,globe,map,vr,messageList,messageCreate,messageUpdate,messageDetail,notFound,settings,notifications}from'@apis/router';import{playingState}from'@apis/Recoil';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){initToken();var _useRecoilState=useRecoilState(playingState),_useRecoilState2=_slicedToArray(_useRecoilState,2),onPlay=_useRecoilState2[0],setOnPlay=_useRecoilState2[1];var audioRef=useRef(null);var handlePlay=function handlePlay(){if(onPlay){audioRef.current&&audioRef.current.play();}else{audioRef.current&&audioRef.current.pause();}setOnPlay(function(prev){return!prev;});};useEffect(function(){audioRef.current.volume=0.4;},[]);useEffect(handlePlay,[onPlay]);var MessageList=/*#__PURE__*/lazy(function(){return import('@screens/MessageList');});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loading,{}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:intro(),element:/*#__PURE__*/_jsx(Intro,{})}),/*#__PURE__*/_jsx(Route,{path:main(),element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:globe(),element:/*#__PURE__*/_jsx(Globe,{})}),/*#__PURE__*/_jsx(Route,{path:map(),element:/*#__PURE__*/_jsx(Map,{})}),/*#__PURE__*/_jsx(Route,{path:vr(),element:/*#__PURE__*/_jsx(VR,{})}),/*#__PURE__*/_jsx(Route,{path:messageList(),element:/*#__PURE__*/_jsx(MessageList,{})}),/*#__PURE__*/_jsx(Route,{path:messageCreate(),element:/*#__PURE__*/_jsx(MessageCreate,{})}),/*#__PURE__*/_jsx(Route,{path:messageUpdate(),element:/*#__PURE__*/_jsx(MessageCreate,{})}),/*#__PURE__*/_jsx(Route,{path:messageDetail(),element:/*#__PURE__*/_jsx(MessageDetail,{})}),/*#__PURE__*/_jsx(Route,{path:notFound(),element:/*#__PURE__*/_jsx(NotFound,{})}),/*#__PURE__*/_jsx(Route,{path:settings(),element:/*#__PURE__*/_jsx(Individual,{})}),/*#__PURE__*/_jsx(Route,{path:notifications(),element:/*#__PURE__*/_jsx(Individual,{})})]})})}),/*#__PURE__*/_jsx(\"audio\",{autoPlay:onPlay,loop:onPlay,src:bgm,ref:audioRef})]});}export default App;","map":{"version":3,"names":["initToken","Suspense","useEffect","useRef","lazy","BrowserRouter","Routes","Route","bgm","Loading","Intro","Main","Globe","Map","MessageCreate","MessageDetail","VR","NotFound","Individual","useRecoilState","main","intro","globe","map","vr","messageList","messageCreate","messageUpdate","messageDetail","notFound","settings","notifications","playingState","App","onPlay","setOnPlay","audioRef","handlePlay","current","play","pause","prev","volume","MessageList"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/App.tsx"],"sourcesContent":["// notification\r\nimport {\r\n  initToken,\r\n  requestPermission,\r\n} from '@apis/notifications/getMessagingToken';\r\n\r\nimport {Suspense, useEffect, useState, useRef, lazy} from 'react';\r\nimport {BrowserRouter, Routes, Route} from 'react-router-dom';\r\nimport bgm from '@bgms/silver_waves.mp3';\r\n\r\nimport '@/App.scss';\r\n\r\nimport Loading from '@components/loading/Loading';\r\n// route\r\nimport Intro from '@screens/Intro';\r\nimport Main from '@screens/Main';\r\nimport Globe from '@screens/Globe';\r\nimport Map from '@screens/Map';\r\n// lazy loading으로 대체\r\n// import MessageList from '@screens/MessageList';\r\nimport MessageCreate from '@screens/MessageCreate';\r\nimport MessageDetail from '@screens/MessageDetail';\r\nimport VR from '@screens/VR';\r\nimport NotFound from '@screens/NotFound';\r\nimport Individual from '@screens/Individual';\r\n\r\n//recoil\r\nimport {useRecoilState, useRecoilValue} from 'recoil';\r\n// router\r\nimport {\r\n  main,\r\n  intro,\r\n  globe,\r\n  map,\r\n  vr,\r\n  messageList,\r\n  messageCreate,\r\n  messageUpdate,\r\n  messageDetail,\r\n  notFound,\r\n  settings,\r\n  notifications,\r\n} from '@apis/router';\r\nimport {playingState} from '@apis/Recoil';\r\n\r\nfunction App() {\r\n  initToken();\r\n  const [onPlay, setOnPlay] = useRecoilState(playingState);\r\n  const audioRef = useRef<HTMLAudioElement>(null!);\r\n  const handlePlay = () => {\r\n    if (onPlay) {\r\n      audioRef.current && audioRef.current.play();\r\n    } else {\r\n      audioRef.current && audioRef.current.pause();\r\n    }\r\n    setOnPlay(prev => !prev);\r\n  };\r\n  useEffect(() => {\r\n    audioRef.current.volume = 0.4;\r\n  }, []);\r\n  useEffect(handlePlay, [onPlay]);\r\n\r\n  const MessageList = lazy(() => import('@screens/MessageList'));\r\n  return (\r\n    <>\r\n      {/* <InitMessage /> */}\r\n      <BrowserRouter>\r\n        {/* <RecoilRoot> */}\r\n        <Suspense fallback={<Loading />}>\r\n          <Routes>\r\n            <Route path={intro()} element={<Intro />} />\r\n            <Route path={main()} element={<Main />} />\r\n            <Route path={globe()} element={<Globe />} />\r\n            <Route path={map()} element={<Map />} />\r\n            <Route path={vr()} element={<VR />} />\r\n            <Route path={messageList()} element={<MessageList />} />\r\n            <Route path={messageCreate()} element={<MessageCreate />} />\r\n            <Route path={messageUpdate()} element={<MessageCreate />} />\r\n            <Route path={messageDetail()} element={<MessageDetail />} />\r\n            <Route path={notFound()} element={<NotFound />} />\r\n            <Route path={settings()} element={<Individual />} />\r\n            <Route path={notifications()} element={<Individual />} />\r\n          </Routes>\r\n        </Suspense>\r\n        {/* </RecoilRoot> */}\r\n      </BrowserRouter>\r\n      <audio autoPlay={onPlay} loop={onPlay} src={bgm} ref={audioRef} />\r\n    </>\r\n  );\r\n}\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}