{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\S07P31C209\\\\frontend\\\\src\\\\components\\\\messageDetail\\\\Like.tsx\",\n  _s = $RefreshSig$();\n//** 좋아요, 이모지 관련\n\nimport { useState } from 'react';\nimport '@messageDetail/Like.scss';\nimport { emojiArr, smallEmojiArr } from '@emojis/index';\nimport { likeMessage } from '@apis/messageDetail/detailFunc';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Like(_ref) {\n  _s();\n  let {\n    type,\n    userId,\n    data\n  } = _ref;\n  const {\n    isLike,\n    likeCnt,\n    postId,\n    emojiNo\n  } = data;\n  // 현재 사용자가 좋아요 눌렀는지 여부\n  const [myLike, setLike] = useState(isLike);\n  // 사용자에게 보여줄 좋아요 수\n  const [messageCount, setMessageCount] = useState(likeCnt);\n\n  // 좋아요 수, 좋아요 여부 변경\n  const sendChangeSignal = () => {\n    likeMessage(type, {\n      writerId: data.userId,\n      postId,\n      userId\n    });\n  };\n  const changeLike = () => {\n    if (myLike) {\n      setMessageCount(prev => prev - 1);\n    } else {\n      setMessageCount(prev => prev + 1);\n    }\n    setLike(prev => !prev);\n    sendChangeSignal();\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"like\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"like-container\",\n      children: [myLike ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: emojiArr[5],\n        className: \"like-icon\",\n        onClick: changeLike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: smallEmojiArr[11],\n        className: \"like-icon like-icon-stable\",\n        onClick: changeLike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"like-count\",\n        children: messageCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: emojiArr[emojiNo],\n        alt: \"\\uD48D\\uC120 \\uC774\\uBAA8\\uC9C0\",\n        className: \"like-balloon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Like, \"1q/pcSg+BF3kqfghAzKiIET4O4s=\");\n_c = Like;\nexport default Like;\nvar _c;\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"names":["useState","emojiArr","smallEmojiArr","likeMessage","Like","type","userId","data","isLike","likeCnt","postId","emojiNo","myLike","setLike","messageCount","setMessageCount","sendChangeSignal","writerId","changeLike","prev"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/components/messageDetail/Like.tsx"],"sourcesContent":["//** 좋아요, 이모지 관련\r\n\r\nimport {useState} from 'react';\r\n\r\nimport '@messageDetail/Like.scss';\r\nimport {emojiArr, smallEmojiArr} from '@emojis/index';\r\n\r\nimport {likeMessage} from '@apis/messageDetail/detailFunc';\r\nimport {dataType} from '@apis/messageDetail/detailInterface';\r\n\r\ninterface LikeProps {\r\n  data: dataType;\r\n  type: string;\r\n  userId: number;\r\n}\r\n\r\nfunction Like({type, userId, data}: LikeProps) {\r\n  const {isLike, likeCnt, postId, emojiNo} = data;\r\n  // 현재 사용자가 좋아요 눌렀는지 여부\r\n  const [myLike, setLike] = useState(isLike);\r\n  // 사용자에게 보여줄 좋아요 수\r\n  const [messageCount, setMessageCount] = useState(likeCnt);\r\n\r\n  // 좋아요 수, 좋아요 여부 변경\r\n  const sendChangeSignal = () => {\r\n    likeMessage(type, {writerId: data.userId, postId, userId});\r\n  };\r\n\r\n  const changeLike = () => {\r\n    if (myLike) {\r\n      setMessageCount(prev => prev - 1);\r\n    } else {\r\n      setMessageCount(prev => prev + 1);\r\n    }\r\n    setLike(prev => !prev);\r\n    sendChangeSignal();\r\n  };\r\n\r\n  return (\r\n    <article className=\"like\">\r\n      <div className=\"like-container\">\r\n        {myLike ? (\r\n          <img src={emojiArr[5]} className=\"like-icon\" onClick={changeLike} />\r\n        ) : (\r\n          <img\r\n            src={smallEmojiArr[11]}\r\n            className=\"like-icon like-icon-stable\"\r\n            onClick={changeLike}\r\n          />\r\n        )}\r\n        <p className=\"like-count\">{messageCount}</p>\r\n        <img\r\n          src={emojiArr[emojiNo]}\r\n          alt=\"풍선 이모지\"\r\n          className=\"like-balloon\"\r\n        />\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Like;\r\n"],"mappings":";;AAAA;;AAEA,SAAQA,QAAQ,QAAO,OAAO;AAE9B,OAAO,0BAA0B;AACjC,SAAQC,QAAQ,EAAEC,aAAa,QAAO,eAAe;AAErD,SAAQC,WAAW,QAAO,gCAAgC;AAAC;AAS3D,SAASC,IAAI,OAAkC;EAAA;EAAA,IAAjC;IAACC,IAAI;IAAEC,MAAM;IAAEC;EAAe,CAAC;EAC3C,MAAM;IAACC,MAAM;IAAEC,OAAO;IAAEC,MAAM;IAAEC;EAAO,CAAC,GAAGJ,IAAI;EAC/C;EACA,MAAM,CAACK,MAAM,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAACQ,MAAM,CAAC;EAC1C;EACA,MAAM,CAACM,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAACS,OAAO,CAAC;;EAEzD;EACA,MAAMO,gBAAgB,GAAG,MAAM;IAC7Bb,WAAW,CAACE,IAAI,EAAE;MAACY,QAAQ,EAAEV,IAAI,CAACD,MAAM;MAAEI,MAAM;MAAEJ;IAAM,CAAC,CAAC;EAC5D,CAAC;EAED,MAAMY,UAAU,GAAG,MAAM;IACvB,IAAIN,MAAM,EAAE;MACVG,eAAe,CAACI,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACnC,CAAC,MAAM;MACLJ,eAAe,CAACI,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACnC;IACAN,OAAO,CAACM,IAAI,IAAI,CAACA,IAAI,CAAC;IACtBH,gBAAgB,EAAE;EACpB,CAAC;EAED,oBACE;IAAS,SAAS,EAAC,MAAM;IAAA,uBACvB;MAAK,SAAS,EAAC,gBAAgB;MAAA,WAC5BJ,MAAM,gBACL;QAAK,GAAG,EAAEX,QAAQ,CAAC,CAAC,CAAE;QAAC,SAAS,EAAC,WAAW;QAAC,OAAO,EAAEiB;MAAW;QAAA;QAAA;QAAA;MAAA,QAAG,gBAEpE;QACE,GAAG,EAAEhB,aAAa,CAAC,EAAE,CAAE;QACvB,SAAS,EAAC,4BAA4B;QACtC,OAAO,EAAEgB;MAAW;QAAA;QAAA;QAAA;MAAA,QAEvB,eACD;QAAG,SAAS,EAAC,YAAY;QAAA,UAAEJ;MAAY;QAAA;QAAA;QAAA;MAAA,QAAK,eAC5C;QACE,GAAG,EAAEb,QAAQ,CAACU,OAAO,CAAE;QACvB,GAAG,EAAC,iCAAQ;QACZ,SAAS,EAAC;MAAc;QAAA;QAAA;QAAA;MAAA,QACxB;IAAA;MAAA;MAAA;MAAA;IAAA;EACE;IAAA;IAAA;IAAA;EAAA,QACE;AAEd;AAAC,GA3CQP,IAAI;AAAA,KAAJA,IAAI;AA6Cb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}