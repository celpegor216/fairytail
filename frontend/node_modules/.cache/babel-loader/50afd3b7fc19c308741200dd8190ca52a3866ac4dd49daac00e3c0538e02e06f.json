{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\S07P31C209\\\\frontend\\\\src\\\\components\\\\individual\\\\BgmModal.tsx\",\n  _s = $RefreshSig$();\nimport { useRecoilState } from 'recoil';\nimport { playingState, bgmNoState } from '@/apis/Recoil';\nimport '@individual/BgmModal.scss';\nimport Toggle from '@messageCreate/Toggle';\nimport { bgmArr } from '@bgms/index';\nimport BgmListItem from '@individual/BgmListItem';\nimport { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BgmModal(_ref) {\n  _s();\n  let {\n    open,\n    onCancel\n  } = _ref;\n  const bgmModalRef = useRef(null);\n  useEffect(() => {\n    window.addEventListener('mousedown', _ref2 => {\n      let {\n        target\n      } = _ref2;\n      if (bgmModalRef.current && !bgmModalRef.current.contains(target)) {\n        onCancel();\n      }\n    });\n  });\n  const [isPlaying, setIsPlaying] = useRecoilState(playingState);\n  const [bgmNo, setBgmNo] = useRecoilState(bgmNoState);\n  const handlePlay = () => setIsPlaying(prev => !prev);\n  const bgmListRef = useRef(null);\n  useEffect(() => {\n    if (!isPlaying) {\n      var _bgmListRef$current;\n      (_bgmListRef$current = bgmListRef.current) === null || _bgmListRef$current === void 0 ? void 0 : _bgmListRef$current.scrollIntoView({\n        block: 'start'\n      });\n    }\n  }, [isPlaying]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: open ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bgm-background\",\n      onClick: onCancel,\n      ref: bgmModalRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container bgm-container\",\n        onClick: event => {\n          event.stopPropagation();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bgm-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: handlePlay,\n            children: \"\\uBC30\\uACBD\\uC74C\\uC545 \\uC7AC\\uC0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n            label: \"\",\n            onClick: handlePlay,\n            value: isPlaying\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bgm-list\",\n          style: {\n            overflow: isPlaying ? 'auto' : 'hidden'\n          },\n          ref: bgmListRef,\n          children: [isPlaying ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bgm-list-deactivated\",\n            onClick: event => event.stopPropagation()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), bgmArr.map((_ref3, index) => {\n            let {\n              title\n            } = _ref3;\n            return /*#__PURE__*/_jsxDEV(BgmListItem, {\n              title: title,\n              index: index\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 24\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: onCancel,\n          children: \"\\uB2EB\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : null\n  }, void 0, false);\n}\n_s(BgmModal, \"R/GhdRP0aHsz8MJvrqYUnt5CeCA=\", false, function () {\n  return [useRecoilState, useRecoilState];\n});\n_c = BgmModal;\nexport default BgmModal;\nvar _c;\n$RefreshReg$(_c, \"BgmModal\");","map":{"version":3,"names":["useRecoilState","playingState","bgmNoState","Toggle","bgmArr","BgmListItem","useRef","useEffect","BgmModal","open","onCancel","bgmModalRef","window","addEventListener","target","current","contains","isPlaying","setIsPlaying","bgmNo","setBgmNo","handlePlay","prev","bgmListRef","scrollIntoView","block","event","stopPropagation","overflow","map","index","title"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/components/individual/BgmModal.tsx"],"sourcesContent":["import {useRecoilState} from 'recoil';\r\nimport {playingState, bgmNoState} from '@/apis/Recoil';\r\nimport '@individual/BgmModal.scss';\r\nimport Toggle from '@messageCreate/Toggle';\r\nimport {bgmArr} from '@bgms/index';\r\nimport BgmListItem from '@individual/BgmListItem';\r\nimport {useRef, useEffect} from 'react';\r\n\r\ninterface BgmModalProps {\r\n  open: boolean;\r\n  onCancel(): void;\r\n}\r\n\r\nfunction BgmModal({open, onCancel}: BgmModalProps) {\r\n  const bgmModalRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mousedown', ({target}) => {\r\n      if (\r\n        bgmModalRef.current &&\r\n        !bgmModalRef.current.contains(target as Node)\r\n      ) {\r\n        onCancel();\r\n      }\r\n    });\r\n  });\r\n\r\n  const [isPlaying, setIsPlaying] = useRecoilState(playingState);\r\n  const [bgmNo, setBgmNo] = useRecoilState(bgmNoState);\r\n\r\n  const handlePlay = () => setIsPlaying(prev => !prev);\r\n\r\n  const bgmListRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying) {\r\n      bgmListRef.current?.scrollIntoView({block: 'start'});\r\n    }\r\n  }, [isPlaying]);\r\n\r\n  return (\r\n    <>\r\n      {open ? (\r\n        <div className=\"bgm-background\" onClick={onCancel} ref={bgmModalRef}>\r\n          <div\r\n            className=\"container bgm-container\"\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n            }}>\r\n            <div className=\"bgm-header\">\r\n              <span onClick={handlePlay}>배경음악 재생</span>\r\n              <Toggle label=\"\" onClick={handlePlay} value={isPlaying} />\r\n            </div>\r\n\r\n            <div\r\n              className=\"bgm-list\"\r\n              style={{overflow: isPlaying ? 'auto' : 'hidden'}}\r\n              ref={bgmListRef}>\r\n              {isPlaying ? null : (\r\n                <div\r\n                  className=\"bgm-list-deactivated\"\r\n                  onClick={event => event.stopPropagation()}\r\n                />\r\n              )}\r\n              {bgmArr.map(({title}, index) => {\r\n                return <BgmListItem title={title} index={index} key={index} />;\r\n              })}\r\n            </div>\r\n\r\n            <button className=\"btn\" onClick={onCancel}>\r\n              닫기\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BgmModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}