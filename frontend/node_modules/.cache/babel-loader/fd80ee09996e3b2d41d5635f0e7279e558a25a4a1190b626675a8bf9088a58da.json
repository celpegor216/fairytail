{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\S07P31C209\\\\frontend\\\\src\\\\components\\\\messageDetail\\\\Like.tsx\",\n  _s = $RefreshSig$();\n//** 좋아요, 이모지 관련\n\nimport React, { useState } from 'react';\nimport { ReactComponent as HeartEmpty } from '@images/heartEmpty.svg';\nimport { ReactComponent as HeartFilled } from '@images/heartFilled.svg';\nimport { emojiArr } from '@emojis/index';\nimport '@messageDetail/Like.scss';\nimport { likeMessage } from '@apis/messageDetail/detailFunc';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Like(_ref) {\n  _s();\n  let {\n    type,\n    userId,\n    data\n  } = _ref;\n  const {\n    isLike,\n    likeCnt,\n    postId,\n    emojiNo\n  } = data;\n  // 현재 사용자가 좋아요 눌렀는지 여부\n  const [myLike, setLike] = useState(isLike);\n  // 사용자에게 보여줄 좋아요 수\n  const [messageCount, setMessageCount] = useState(likeCnt);\n\n  // 좋아요 수, 좋아요 여부 변경\n  const sendChangeSignal = () => {\n    likeMessage(type, {\n      writerId: data.userId,\n      postId,\n      userId\n    });\n    //   .then(\n    //   (res: any) => {\n    //     if (res.message === 'SUCCESS') {\n    //       setLike(prev => !prev);\n    //     }\n    //   },\n    // );\n  };\n\n  const changeLike = () => {\n    if (myLike) {\n      setMessageCount(prev => prev - 1);\n    } else {\n      setMessageCount(prev => prev + 1);\n    }\n    setLike(prev => !prev);\n    sendChangeSignal();\n  };\n\n  // // props 데이터 갱신 (count, like)\n  // useEffect(() => {\n  //   setMessageCount(() => likeCnt);\n  // }, [likeCnt]);\n\n  // useEffect(() => {\n  //   setLike(() => isLike);\n  // }, [isLike]);\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"like\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: emojiArr[emojiNo],\n      alt: \"\\uD48D\\uC120 \\uC774\\uBAA8\\uC9C0\",\n      className: \"like-balloon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"like-container\",\n      children: [myLike ? /*#__PURE__*/_jsxDEV(HeartFilled, {\n        className: \"like-icon\",\n        onClick: changeLike,\n        fill: \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(HeartEmpty, {\n        className: \"like-icon\",\n        onClick: changeLike,\n        fill: \"white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"like-count\",\n        children: messageCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(Like, \"1q/pcSg+BF3kqfghAzKiIET4O4s=\");\n_c = Like;\nexport default Like;\nvar _c;\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"names":["React","useState","ReactComponent","HeartEmpty","HeartFilled","emojiArr","likeMessage","Like","type","userId","data","isLike","likeCnt","postId","emojiNo","myLike","setLike","messageCount","setMessageCount","sendChangeSignal","writerId","changeLike","prev"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/components/messageDetail/Like.tsx"],"sourcesContent":["//** 좋아요, 이모지 관련\r\n\r\nimport React, {useEffect, useState, useRef} from 'react';\r\nimport {ReactComponent as HeartEmpty} from '@images/heartEmpty.svg';\r\nimport {ReactComponent as HeartFilled} from '@images/heartFilled.svg';\r\nimport {emojiArr} from '@emojis/index';\r\nimport '@messageDetail/Like.scss';\r\nimport {returnFalse, returnTrue} from '../common/commonFunc';\r\nimport {likeMessage} from '@apis/messageDetail/detailFunc';\r\nimport {dataType} from '@apis/messageDetail/detailInterface';\r\n\r\n// props 유형\r\n// interface LikeProps {\r\n//   count: number;\r\n//   like: boolean;\r\n//   isMine: boolean;\r\n//   emoji: number;\r\n//   type: string;\r\n//   writerId: number;\r\n//   likeInfo: {\r\n//     postId: number;\r\n//     userId: number;\r\n//   };\r\n// }\r\ninterface LikeProps {\r\n  data: dataType;\r\n  type: string;\r\n  userId: number;\r\n}\r\n\r\nfunction Like({type, userId, data}: LikeProps) {\r\n  const {isLike, likeCnt, postId, emojiNo} = data;\r\n  // 현재 사용자가 좋아요 눌렀는지 여부\r\n  const [myLike, setLike] = useState(isLike);\r\n  // 사용자에게 보여줄 좋아요 수\r\n  const [messageCount, setMessageCount] = useState(likeCnt);\r\n\r\n  // 좋아요 수, 좋아요 여부 변경\r\n  const sendChangeSignal = () => {\r\n    likeMessage(type, {writerId: data.userId, postId, userId});\r\n    //   .then(\r\n    //   (res: any) => {\r\n    //     if (res.message === 'SUCCESS') {\r\n    //       setLike(prev => !prev);\r\n    //     }\r\n    //   },\r\n    // );\r\n  };\r\n\r\n  const changeLike = () => {\r\n    if (myLike) {\r\n      setMessageCount(prev => prev - 1);\r\n    } else {\r\n      setMessageCount(prev => prev + 1);\r\n    }\r\n    setLike(prev => !prev);\r\n    sendChangeSignal();\r\n  };\r\n\r\n  // // props 데이터 갱신 (count, like)\r\n  // useEffect(() => {\r\n  //   setMessageCount(() => likeCnt);\r\n  // }, [likeCnt]);\r\n\r\n  // useEffect(() => {\r\n  //   setLike(() => isLike);\r\n  // }, [isLike]);\r\n\r\n  return (\r\n    <article className=\"like\">\r\n      <img src={emojiArr[emojiNo]} alt=\"풍선 이모지\" className=\"like-balloon\" />\r\n      <div className=\"like-container\">\r\n        {myLike ? (\r\n          <HeartFilled className=\"like-icon\" onClick={changeLike} fill=\"red\" />\r\n        ) : (\r\n          <HeartEmpty className=\"like-icon\" onClick={changeLike} fill=\"white\" />\r\n        )}\r\n        <p className=\"like-count\">{messageCount}</p>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Like;\r\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAcC,QAAQ,QAAe,OAAO;AACxD,SAAQC,cAAc,IAAIC,UAAU,QAAO,wBAAwB;AACnE,SAAQD,cAAc,IAAIE,WAAW,QAAO,yBAAyB;AACrE,SAAQC,QAAQ,QAAO,eAAe;AACtC,OAAO,0BAA0B;AAEjC,SAAQC,WAAW,QAAO,gCAAgC;AAAC;AAsB3D,SAASC,IAAI,OAAkC;EAAA;EAAA,IAAjC;IAACC,IAAI;IAAEC,MAAM;IAAEC;EAAe,CAAC;EAC3C,MAAM;IAACC,MAAM;IAAEC,OAAO;IAAEC,MAAM;IAAEC;EAAO,CAAC,GAAGJ,IAAI;EAC/C;EACA,MAAM,CAACK,MAAM,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAACU,MAAM,CAAC;EAC1C;EACA,MAAM,CAACM,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAACW,OAAO,CAAC;;EAEzD;EACA,MAAMO,gBAAgB,GAAG,MAAM;IAC7Bb,WAAW,CAACE,IAAI,EAAE;MAACY,QAAQ,EAAEV,IAAI,CAACD,MAAM;MAAEI,MAAM;MAAEJ;IAAM,CAAC,CAAC;IAC1D;IACA;IACA;IACA;IACA;IACA;IACA;EACF,CAAC;;EAED,MAAMY,UAAU,GAAG,MAAM;IACvB,IAAIN,MAAM,EAAE;MACVG,eAAe,CAACI,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACnC,CAAC,MAAM;MACLJ,eAAe,CAACI,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACnC;IACAN,OAAO,CAACM,IAAI,IAAI,CAACA,IAAI,CAAC;IACtBH,gBAAgB,EAAE;EACpB,CAAC;;EAED;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA,oBACE;IAAS,SAAS,EAAC,MAAM;IAAA,wBACvB;MAAK,GAAG,EAAEd,QAAQ,CAACS,OAAO,CAAE;MAAC,GAAG,EAAC,iCAAQ;MAAC,SAAS,EAAC;IAAc;MAAA;MAAA;MAAA;IAAA,QAAG,eACrE;MAAK,SAAS,EAAC,gBAAgB;MAAA,WAC5BC,MAAM,gBACL,QAAC,WAAW;QAAC,SAAS,EAAC,WAAW;QAAC,OAAO,EAAEM,UAAW;QAAC,IAAI,EAAC;MAAK;QAAA;QAAA;QAAA;MAAA,QAAG,gBAErE,QAAC,UAAU;QAAC,SAAS,EAAC,WAAW;QAAC,OAAO,EAAEA,UAAW;QAAC,IAAI,EAAC;MAAO;QAAA;QAAA;QAAA;MAAA,QACpE,eACD;QAAG,SAAS,EAAC,YAAY;QAAA,UAAEJ;MAAY;QAAA;QAAA;QAAA;MAAA,QAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QACxC;EAAA;IAAA;IAAA;IAAA;EAAA,QACE;AAEd;AAAC,GAnDQV,IAAI;AAAA,KAAJA,IAAI;AAqDb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}