{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/S07P31C209/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from'react';import{ReactComponent as Play}from'@images/play.svg';import{ReactComponent as Pause}from'@images/pause.svg';import{returnFalse}from'@common/commonFunc';import'@individual/SettingsModal.scss';import{useRecoilState}from'recoil';import{playingState}from'@apis/Recoil';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EachBgm(_ref){var element=_ref.element,index=_ref.index,newBgm=_ref.newBgm,changeBgm=_ref.changeBgm;var _useRecoilState=useRecoilState(playingState),_useRecoilState2=_slicedToArray(_useRecoilState,2),onBgmPlay=_useRecoilState2[0],setOnBgmPlay=_useRecoilState2[1];var changeOnPlay=function changeOnPlay(){setOnBgmPlay(false);console.log(onPlay);};var audioRef=useRef(null);var title=element.title,bgm=element.bgm;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),onPlay=_useState2[0],setOnPlay=_useState2[1];var playBgm=function playBgm(){setOnBgmPlay(returnFalse);if(onPlay){audioRef.current&&audioRef.current.play();}else{audioRef.current&&audioRef.current.pause();}};return/*#__PURE__*/_jsxs(\"div\",{className:title===newBgm?'bgm-item bgm-selected':'bgm-item',onClick:changeBgm(index),children:[/*#__PURE__*/_jsx(\"span\",{className:\"bgm-modal-title\",children:title}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,src:bgm,loop:true}),onPlay?/*#__PURE__*/_jsx(Pause,{className:\"bgm-play\",fill:\"black\",onClick:playBgm}):/*#__PURE__*/_jsx(Play,{className:\"bgm-play\",fill:\"black\",onClick:playBgm})]},title);}export default EachBgm;","map":{"version":3,"names":["useRef","useState","ReactComponent","Play","Pause","returnFalse","useRecoilState","playingState","EachBgm","element","index","newBgm","changeBgm","onBgmPlay","setOnBgmPlay","changeOnPlay","console","log","onPlay","audioRef","title","bgm","setOnPlay","playBgm","current","play","pause"],"sources":["C:/Users/Administrator/Desktop/S07P31C209/frontend/src/components/individual/EachBgm.tsx"],"sourcesContent":["import {useRef, useState} from 'react';\r\nimport {ReactComponent as Play} from '@images/play.svg';\r\nimport {ReactComponent as Pause} from '@images/pause.svg';\r\nimport {returnTrue, returnFalse} from '@common/commonFunc';\r\nimport '@individual/SettingsModal.scss';\r\nimport {useRecoilState} from 'recoil';\r\nimport {playingState} from '@apis/Recoil';\r\n\r\ninterface EachBgmProps {\r\n  element: {title: string; bgm: string};\r\n  index: number;\r\n  newBgm: string;\r\n  changeBgm: (index: number) => () => void;\r\n}\r\n\r\nfunction EachBgm({element, index, newBgm, changeBgm}: EachBgmProps) {\r\n  const [onBgmPlay, setOnBgmPlay] = useRecoilState(playingState);\r\n  const changeOnPlay = () => {\r\n    setOnBgmPlay(false);\r\n    console.log(onPlay);\r\n  };\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const {title, bgm} = element;\r\n  const [onPlay, setOnPlay] = useState(false);\r\n  const playBgm = () => {\r\n    setOnBgmPlay(returnFalse);\r\n    if (onPlay) {\r\n      audioRef.current && audioRef.current.play();\r\n    } else {\r\n      audioRef.current && audioRef.current.pause();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      key={title}\r\n      className={title === newBgm ? 'bgm-item bgm-selected' : 'bgm-item'}\r\n      onClick={changeBgm(index)}>\r\n      <span className=\"bgm-modal-title\">{title}</span>\r\n\r\n      <audio ref={audioRef} src={bgm} loop />\r\n      {onPlay ? (\r\n        <Pause className=\"bgm-play\" fill=\"black\" onClick={playBgm} />\r\n      ) : (\r\n        <Play className=\"bgm-play\" fill=\"black\" onClick={playBgm} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EachBgm;\r\n"],"mappings":"wIAAA,OAAQA,MAAM,CAAEC,QAAQ,KAAO,OAAO,CACtC,OAAQC,cAAc,GAAIC,KAAI,KAAO,kBAAkB,CACvD,OAAQD,cAAc,GAAIE,MAAK,KAAO,mBAAmB,CACzD,OAAoBC,WAAW,KAAO,oBAAoB,CAC1D,MAAO,gCAAgC,CACvC,OAAQC,cAAc,KAAO,QAAQ,CACrC,OAAQC,YAAY,KAAO,cAAc,CAAC,wFAS1C,QAASC,QAAO,MAAoD,IAAlDC,QAAO,MAAPA,OAAO,CAAEC,KAAK,MAALA,KAAK,CAAEC,MAAM,MAANA,MAAM,CAAEC,SAAS,MAATA,SAAS,CACjD,oBAAkCN,cAAc,CAACC,YAAY,CAAC,oDAAvDM,SAAS,qBAAEC,YAAY,qBAC9B,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzBD,YAAY,CAAC,KAAK,CAAC,CACnBE,OAAO,CAACC,GAAG,CAACC,MAAM,CAAC,CACrB,CAAC,CACD,GAAMC,SAAQ,CAAGnB,MAAM,CAAmB,IAAI,CAAC,CAC/C,GAAOoB,MAAK,CAASX,OAAO,CAArBW,KAAK,CAAEC,GAAG,CAAIZ,OAAO,CAAdY,GAAG,CACjB,cAA4BpB,QAAQ,CAAC,KAAK,CAAC,wCAApCiB,MAAM,eAAEI,SAAS,eACxB,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpBT,YAAY,CAACT,WAAW,CAAC,CACzB,GAAIa,MAAM,CAAE,CACVC,QAAQ,CAACK,OAAO,EAAIL,QAAQ,CAACK,OAAO,CAACC,IAAI,EAAE,CAC7C,CAAC,IAAM,CACLN,QAAQ,CAACK,OAAO,EAAIL,QAAQ,CAACK,OAAO,CAACE,KAAK,EAAE,CAC9C,CACF,CAAC,CAED,mBACE,aAEE,SAAS,CAAEN,KAAK,GAAKT,MAAM,CAAG,uBAAuB,CAAG,UAAW,CACnE,OAAO,CAAEC,SAAS,CAACF,KAAK,CAAE,wBAC1B,aAAM,SAAS,CAAC,iBAAiB,UAAEU,KAAK,EAAQ,cAEhD,cAAO,GAAG,CAAED,QAAS,CAAC,GAAG,CAAEE,GAAI,CAAC,IAAI,OAAG,CACtCH,MAAM,cACL,KAAC,KAAK,EAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAEK,OAAQ,EAAG,cAE7D,KAAC,IAAI,EAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAEA,OAAQ,EAC1D,GAVIH,KAAK,CAWN,CAEV,CAEA,cAAeZ,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}